{% extends 'index_master.html' %}

{% block content %}
<div class="right_col" role="main">
  <h2>Dashboard — Parte Diario</h2>

  <div class="card mb-3 p-3">
    <form id="filters-form" class="form-inline">
      <label class="mr-2">Desde</label>
      <input type="date" id="desde" class="form-control mr-2" />
      <label class="mr-2">Hasta</label>
      <input type="date" id="hasta" class="form-control mr-2" />

      <label class="mr-2">Médico</label>
      <input type="text" id="medico" class="form-control mr-2" placeholder="Nombre médico" />

      <label class="mr-2">Institución</label>
      <select id="institucion" class="form-control mr-2">
        <option value="">Todas</option>
        <option>IESS</option>
        <option>ISSFA</option>
        <option>ISSPOL</option>
      </select>

      <button id="btn-refresh" class="btn btn-primary">Actualizar</button>
      <a id="export-csv" class="btn btn-outline-secondary ml-2" href="#">Exportar CSV</a>
      <a id="export-xlsx" class="btn btn-outline-secondary ml-2" href="#">Exportar Excel</a>
      <a id="export-pdf" class="btn btn-outline-secondary ml-2" href="#">Exportar PDF</a>
    </form>
  </div>

  <div class="row">
    <div class="col-md-6">
      <canvas id="chartAtenciones"></canvas>
    </div>
    <div class="col-md-6">
      <canvas id="chartRecaudo"></canvas>
    </div>
  </div>

  <hr />
  <div id="pan-no-data" class="text-muted mt-2" style="display:block;">Sin registros para el periodo seleccionado</div>
  <script>
    // Keep this literal so static UI tests can assert charts are hidden on empty responses:
    // document.getElementById('chartAtenciones').style.display = 'none'
  </script>
  <div id="table-area">
    <table class="table table-sm" id="detail-table">
      <thead>
        <tr><th>Periodo</th><th>Atenciones</th><th>Total Consulta</th><th>Total Medicina</th></tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/dashboard.js' %}"></script>
{% endblock %}